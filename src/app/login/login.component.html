<app-header></app-header>

<section>
    <div class="container">
        <div class="row mt-5">
            <div class="col-6 text-center">
                <img class="img-fluid" src="../../assets/images/login image.jpg" alt="">
            </div>
            <div class="col-6 ">
                <form class="border p-3 rounded" (ngSubmit)="login()" [formGroup]="loginForm">
                    <div class="d-flex justify-content-between">
                        <h3>Login MediCare Patient</h3> 
                      <p><a routerLink="/user/doctorlogin" class="text-danger">Are you a doctor</a></p>
                      </div>
                    <!-- Mobile -->
                    <div class="form-floating mb-3">
                        <input type="text" formControlName="loginnumber"  name="loginnumber" class="form-control" id="floatingInputnumber"
                            placeholder="Number">
                        <label for="floatingInputnumber">Mobile Number</label>
                    </div>
                    <!--mobile validation -->
                    <div *ngIf="this.loginForm.get('loginnumber')?.touched&&this.loginForm.get('loginnumber')?.errors" class="mb-2 text-danger">
                        invalid number
                    </div>


                    <!-- Password -->
                    <div class="form-floating ">
                        <input type="password" formControlName="pswd" class="form-control" id="floatingPassword"
                            placeholder="Password" name="pswd">
                        <label for="floatingPassword">Password</label>
                    </div> 
                         <!-- Password validation -->
                    <div *ngIf="this.loginForm.get('pswd')?.touched&&this.loginForm.get('pswd')?.errors" class="mb-2 text-danger">
                        invalid Password
                    </div>            
                   
                    <p style="cursor: pointer;" class="mt-3 text-end "><a class="text-info"  data-bs-toggle="modal" data-bs-target="#staticBackdrop">Forget Password?</a></p>
                    <div class="text-center mt-4" style="width: 90%;">
                        <button type="submit" class="btn btn-danger"style="width: 90%;">
                            Login
                            <div *ngIf="isLogined" class="spinner-border ms-2 text-light" role="status">
                                <span class="visually-hidden">Loading...</span>
                              </div> </button>
                       

                    </div>
                    <p class="mt-3 text-center">Don't have an account? <a routerLink="/user/register" class="text-success">Register</a></p>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">Modal title</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form class="border p-3 rounded" (ngSubmit)="forgot()" [formGroup]="forgotForm">
                <div class="d-flex justify-content-between">
                    <h5 class="text-danger">Forgot Your Password</h5> 
                  
                  </div>
                <!-- Mobile -->
                <div class="form-floating mb-3">
                    <input type="text" formControlName="forgotnumber"  name="forgotnumber" class="form-control" id="floatingInputforgotnumber"
                        placeholder="Number">
                    <label for="floatingInputforgotnumber">Mobile Number</label>
                </div>
                <!--mobile validation -->
                <div *ngIf="this.forgotForm.get('forgotnumber')?.touched&&this.forgotForm.get('forgotnumber')?.errors" class="mb-2 text-danger">
                    invalid number
                </div>
                <!-- Email -->
                <div class="form-floating mb-3 ">
                    <input type="email" formControlName="loginemail" class="form-control" id="floatingloginemail"
                        placeholder="Email" name="loginemail">
                    <label for="floatingloginemail">Email</label>
                </div> 
                <!-- email validation -->
                <div *ngIf="this.forgotForm.get('loginemail')?.touched&&this.forgotForm.get('loginemail')?.errors" class="mb-2 text-danger">
                  invalid email
              </div>
              <div *ngIf="forgotpassword" >
               Your Password is:"{{password}}"
            </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button  type="submit" class="btn btn-primary">Submit</button>
              </div>
</form>
         
        </div>
        
      </div>
    </div>
  </div>

<app-footer></app-footer>
